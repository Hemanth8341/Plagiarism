{% extends "base.html" %}

{% block title %}Check Image for Plagiarism - Plagiarism Detection{% endblock %}

{% block content %}
<div class="container">
    <div class="breadcrumb">
        <a href="/">Home</a>
        <span class="breadcrumb-separator">/</span>
        <span>Check Image</span>
    </div>

    <h1>üñºÔ∏è Check Image for Plagiarism</h1>
    <p>Upload a suspicious image to compare it against our source image library and detect potential plagiarism.</p>

    <div style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%); padding: 2rem; border-radius: 8px; margin: 2rem 0;">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="form-group">
                <label for="suspicious_image">üì§ Upload Image</label>
                <input type="file" id="suspicious_image" name="suspicious_image" accept="image/*" required>
                <small style="color: #999;">Choose an image file to check for plagiarism (JPG, PNG, GIF, etc.)</small>
                <div id="image-name-display" style="margin-top: 0.5rem; font-weight: 600; color: #28a745; display: none;">‚úÖ Selected: <span id="image-name-text"></span></div>
            </div>

            <script>
                document.getElementById('suspicious_image').addEventListener('change', function() {
                    const fileName = this.files[0]?.name;
                    if (fileName) {
                        document.getElementById('image-name-text').textContent = fileName;
                        document.getElementById('image-name-display').style.display = 'block';
                    } else {
                        document.getElementById('image-name-display').style.display = 'none';
                    }
                });
            </script>

            <div class="form-group">
                <label for="threshold">Similarity Threshold (%)</label>
                <input type="number" id="threshold" name="threshold" min="0" max="100" value="70" required>
                <small style="color: #999;">Set the minimum similarity percentage to flag (0-100)</small>
            </div>

            <div class="form-group">
                <label for="method">Detection Method</label>
                <select id="method" name="method" required>
                    <option value="histogram">Histogram Matching</option>
                    <option value="sift">SIFT Features</option>
                    <option value="orb">ORB Features</option>
                    <option value="perceptual">Perceptual Hash</option>
                </select>
                <small style="color: #999;">Choose the algorithm for image comparison</small>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Analyze Image</button>
                <a href="/" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>

    <div style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); padding: 1.5rem; border-radius: 8px; margin-top: 2rem;">
        <h3 style="color: #667eea; margin-top: 0;">üîç Detection Methods:</h3>
        <ul style="color: #666; line-height: 1.8; margin-left: 1.5rem;">
            <li><strong>Histogram Matching:</strong> Fast, works well for similar content</li>
            <li><strong>SIFT Features:</strong> Robust to scaling and rotation</li>
            <li><strong>ORB Features:</strong> Fast and efficient feature matching</li>
            <li><strong>Perceptual Hash:</strong> Good for modified/compressed images</li>
        </ul>
    </div>

    <div style="background: #e7f3ff; border: 2px solid #667eea; padding: 1.5rem; border-radius: 8px; margin-top: 1.5rem;">
        <p style="margin: 0; color: #333;"><strong>‚ÑπÔ∏è Tip:</strong> For best results, ensure images are clear and in common formats. The system will compare against all available source images in the library.</p>
    </div>
</div>
{% endblock %}
